<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <mapper namespace="com.bitcamp.Mapper.CategoryMapper">
    
    	<select id="AllList" resultType="com.bitcamp.DTO.CategoryDTO">
    		
    		select cno,cname from category
    		
    	</select>
    	<select id="pList" resultType="com.bitcamp.DTO.CategoryDTO">
    		
    		select pno, pname, oprice, dprice from product
    	
    	
    	</select>
    	<select id="allList" resultType="com.bitcamp.DTO.CategoryDTO">
    	
    		select cno,cname from category
    	
    	</select>
    	
    	
    	<select id="cpList" resultType="com.bitcamp.DTO.CategoryDTO" parameterType="int">
    	
    		select p.pname, p.dprice, p.oprice
    		from category c, product p 
    		where c.cno = p.cno 
    		and p.cno = #{cno}
    	
    	</select>
    	<insert id="addresult" parameterType="com.bitcamp.DTO.CategoryDTO">
    	
    		insert into product(pname, dprice, oprice, cno, content, deadline, regist, stock)
    		 values(#{pname}, #{dprice}, #{oprice}, #{cno}) 
    	
    	</insert>
    	
    <!-- 	<insert id="addimg" parameterType="int">
    	
    		insert into img(imgname)
    		values(#{imgname})
    	
    	</insert>
    	 -->
    	
    	
    	
    	<delete id="delete" parameterType="int">
    	
    		delete from product where pno = #{pno}
    	
    	</delete>
    	
    	<select id="adplist" resultType="com.bitcamp.DTO.CategoryDTO">
    	
    	select pno, pname, oprice, dprice, stock, regist, deadline
    	from product
    	
    	
    	</select>
    	
    	
    	
    	
    	
    	
    	
    	
    </mapper>